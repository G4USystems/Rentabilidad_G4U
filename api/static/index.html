<!DOCTYPE html>
<html lang="es">
<head>
    <title>G4U Profitability - Executive Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí∞</text></svg>">
    <link rel="stylesheet" href="/static/css/executive.css">
</head>
<body>
    <div class="app-container">
        <!-- Compact Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-brand">
                <div class="brand-icon">G4U</div>
            </div>

            <nav class="sidebar-nav">
                <a class="nav-link active" data-view="dashboard" title="Dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7" rx="1"/>
                        <rect x="14" y="3" width="7" height="7" rx="1"/>
                        <rect x="3" y="14" width="7" height="7" rx="1"/>
                        <rect x="14" y="14" width="7" height="7" rx="1"/>
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a class="nav-link" data-view="profitability" title="Rentabilidad">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                    </svg>
                    <span>Rentabilidad</span>
                </a>
                <a class="nav-link" data-view="transactions" title="Transacciones">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 3v18h18"/>
                        <path d="M7 16l4-4 4 4 5-6"/>
                    </svg>
                    <span>Transacciones</span>
                </a>
                <a class="nav-link" data-view="review" title="Revision">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 11l3 3L22 4"/>
                        <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/>
                    </svg>
                    <span>Revision</span>
                    <span class="nav-badge" id="review-badge">0</span>
                </a>
                <a class="nav-link" data-view="simulator" title="Simulador AI">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2a4 4 0 014 4c0 1.1-.9 2-2 2h-4a2 2 0 01-2-2 4 4 0 014-4z"/>
                        <path d="M12 8v8"/>
                        <path d="M8 12h8"/>
                        <circle cx="12" cy="19" r="2"/>
                        <path d="M12 16v1"/>
                    </svg>
                    <span>Simulador AI</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <a class="nav-link" data-view="settings" title="Configuracion">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                    </svg>
                    <span>Config</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="top-bar">
                <div class="top-bar-left">
                    <h1 class="page-title" id="page-title">Dashboard Ejecutivo</h1>
                    <div class="sync-indicator" id="sync-indicator">
                        <span class="sync-dot"></span>
                        <span class="sync-text">Actualizado</span>
                    </div>
                </div>
                <div class="top-bar-right">
                    <div class="period-tabs" id="period-tabs">
                        <button class="period-tab" data-period="week">7D</button>
                        <button class="period-tab active" data-period="month">30D</button>
                        <button class="period-tab" data-period="quarter">90D</button>
                        <button class="period-tab" data-period="year">1A</button>
                    </div>
                    <button class="btn-icon" id="btn-sync" title="Sincronizar">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 4v6h-6M1 20v-6h6"/>
                            <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Views Container -->
            <div class="views-container">

                <!-- ============ DASHBOARD VIEW ============ -->
                <section class="view active" id="view-dashboard">
                    <!-- Hero Metrics -->
                    <div class="hero-metrics">
                        <div class="hero-metric primary">
                            <div class="hero-metric-label">Margen Neto</div>
                            <div class="hero-metric-value" id="hero-margin">--%</div>
                            <div class="hero-metric-trend up" id="hero-margin-trend">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17l5-5 5 5"/><path d="M7 7l5 5 5-5"/></svg>
                                <span>+0% vs mes anterior</span>
                            </div>
                        </div>
                        <div class="hero-metric">
                            <div class="hero-metric-label">Ingresos</div>
                            <div class="hero-metric-value positive" id="hero-income">0‚Ç¨</div>
                            <div class="hero-metric-sub" id="hero-income-count">0 transacciones</div>
                        </div>
                        <div class="hero-metric">
                            <div class="hero-metric-label">Gastos</div>
                            <div class="hero-metric-value negative" id="hero-expenses">0‚Ç¨</div>
                            <div class="hero-metric-sub" id="hero-expenses-count">0 transacciones</div>
                        </div>
                        <div class="hero-metric">
                            <div class="hero-metric-label">Resultado Neto</div>
                            <div class="hero-metric-value" id="hero-net">0‚Ç¨</div>
                            <div class="hero-metric-sub" id="hero-net-trend">--</div>
                        </div>
                    </div>

                    <!-- Dashboard Grid -->
                    <div class="dashboard-grid">
                        <!-- Left Column: Charts -->
                        <div class="dashboard-col-main">
                            <!-- Cash Flow Chart -->
                            <div class="card">
                                <div class="card-header">
                                    <h3>Evolucion de Cash Flow</h3>
                                    <div class="chart-legend">
                                        <span class="legend-item"><span class="legend-dot income"></span>Ingresos</span>
                                        <span class="legend-item"><span class="legend-dot expense"></span>Gastos</span>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="chart-area" id="chart-cashflow"></div>
                                </div>
                            </div>

                            <!-- Profitability by Category -->
                            <div class="card">
                                <div class="card-header">
                                    <h3>Gastos por Categoria</h3>
                                    <a href="#" class="card-link" onclick="App.navigateTo('transactions'); return false;">Ver todo</a>
                                </div>
                                <div class="card-body">
                                    <div class="category-bars" id="category-bars">
                                        <div class="loading-placeholder">Cargando...</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Column: Lists -->
                        <div class="dashboard-col-side">
                            <!-- Top Clients by Profitability -->
                            <div class="card">
                                <div class="card-header">
                                    <h3>Top Clientes por Rentabilidad</h3>
                                    <a href="#" class="card-link" onclick="App.navigateTo('profitability'); return false;">Ver todos</a>
                                </div>
                                <div class="card-body compact">
                                    <div class="ranking-list" id="top-clients">
                                        <div class="loading-placeholder">Cargando...</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Top Projects by Profitability -->
                            <div class="card">
                                <div class="card-header">
                                    <h3>Top Proyectos por Rentabilidad</h3>
                                    <a href="#" class="card-link" onclick="App.navigateTo('profitability'); return false;">Ver todos</a>
                                </div>
                                <div class="card-body compact">
                                    <div class="ranking-list" id="top-projects">
                                        <div class="loading-placeholder">Cargando...</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Pending Review Alert -->
                            <div class="card alert-card" id="pending-alert" style="display:none;">
                                <div class="alert-icon">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <path d="M12 8v4M12 16h.01"/>
                                    </svg>
                                </div>
                                <div class="alert-content">
                                    <div class="alert-title"><span id="pending-count">0</span> transacciones pendientes</div>
                                    <div class="alert-desc">Requieren asignacion a proyecto/cliente</div>
                                </div>
                                <button class="btn btn-primary btn-sm" onclick="App.navigateTo('review')">Revisar</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============ PROFITABILITY VIEW ============ -->
                <section class="view" id="view-profitability">
                    <div class="view-header">
                        <div class="view-tabs">
                            <button class="view-tab active" data-subtab="clients">Por Cliente</button>
                            <button class="view-tab" data-subtab="projects">Por Proyecto</button>
                        </div>
                    </div>

                    <!-- Profitability by Client -->
                    <div class="subtab-content active" id="subtab-clients">
                        <div class="profitability-grid" id="clients-profitability">
                            <div class="loading-placeholder">Cargando rentabilidad por cliente...</div>
                        </div>
                    </div>

                    <!-- Profitability by Project -->
                    <div class="subtab-content" id="subtab-projects">
                        <div class="profitability-grid" id="projects-profitability">
                            <div class="loading-placeholder">Cargando rentabilidad por proyecto...</div>
                        </div>
                    </div>
                </section>

                <!-- ============ TRANSACTIONS VIEW ============ -->
                <section class="view" id="view-transactions">
                    <!-- Filters -->
                    <div class="filters-bar">
                        <div class="filter-group">
                            <select id="filter-type" class="filter-select">
                                <option value="">Todos los tipos</option>
                                <option value="income">Ingresos</option>
                                <option value="expense">Gastos</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <select id="filter-category" class="filter-select">
                                <option value="">Todas las categorias</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <select id="filter-project" class="filter-select">
                                <option value="">Todos los proyectos</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <select id="filter-client" class="filter-select">
                                <option value="">Todos los clientes</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <input type="text" id="filter-search" class="filter-input" placeholder="Buscar...">
                        </div>
                        <button class="btn btn-ghost btn-sm" onclick="App.clearFilters()">Limpiar</button>
                    </div>

                    <!-- Quick Stats -->
                    <div class="quick-stats">
                        <div class="quick-stat">
                            <span class="quick-stat-value" id="tx-total">0</span>
                            <span class="quick-stat-label">Total</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-value positive" id="tx-income">0‚Ç¨</span>
                            <span class="quick-stat-label">Ingresos</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-value negative" id="tx-expenses">0‚Ç¨</span>
                            <span class="quick-stat-label">Gastos</span>
                        </div>
                        <div class="quick-stat">
                            <span class="quick-stat-value" id="tx-unassigned">0</span>
                            <span class="quick-stat-label">Sin asignar</span>
                        </div>
                    </div>

                    <!-- Transactions Table -->
                    <div class="table-card">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th class="col-date">Fecha</th>
                                    <th class="col-desc">Descripcion</th>
                                    <th class="col-category">Categoria</th>
                                    <th class="col-project">Proyecto</th>
                                    <th class="col-client">Cliente</th>
                                    <th class="col-amount">Monto</th>
                                    <th class="col-actions"></th>
                                </tr>
                            </thead>
                            <tbody id="transactions-table">
                                <tr><td colspan="7" class="empty-cell">Cargando transacciones...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- ============ REVIEW VIEW ============ -->
                <section class="view" id="view-review">
                    <div class="review-container">
                        <!-- Pending List -->
                        <div class="review-list-panel">
                            <div class="review-list-header">
                                <span class="review-count"><span id="review-total">0</span> pendientes</span>
                                <select id="review-sort" class="filter-select compact">
                                    <option value="date-desc">Mas recientes</option>
                                    <option value="date-asc">Mas antiguas</option>
                                    <option value="amount-desc">Mayor monto</option>
                                    <option value="amount-asc">Menor monto</option>
                                </select>
                            </div>
                            <div class="review-list" id="review-list">
                                <div class="loading-placeholder">Cargando transacciones...</div>
                            </div>
                        </div>

                        <!-- Assignment Panel -->
                        <div class="assignment-panel" id="assignment-panel">
                            <div class="assignment-empty">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"/>
                                    <rect x="9" y="3" width="6" height="4" rx="1"/>
                                    <path d="M9 14l2 2 4-4"/>
                                </svg>
                                <p>Selecciona una transaccion para asignar</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============ AI SIMULATOR VIEW ============ -->
                <section class="view" id="view-simulator">
                    <div class="simulator-container">
                        <!-- Simulator Form -->
                        <div class="simulator-form card">
                            <div class="card-header">
                                <h3>Simulador de Escenarios</h3>
                                <div class="ai-badge">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 2a4 4 0 014 4c0 1.1-.9 2-2 2h-4a2 2 0 01-2-2 4 4 0 014-4z"/>
                                        <path d="M12 8v8M8 12h8"/>
                                        <circle cx="12" cy="19" r="2"/>
                                    </svg>
                                    Potenciado por IA
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="form-section">
                                    <label class="form-label">Tipo de Escenario</label>
                                    <div class="scenario-options">
                                        <label class="scenario-option">
                                            <input type="radio" name="scenario-type" value="growth" checked>
                                            <span class="scenario-option-content">
                                                <span class="scenario-icon">üìà</span>
                                                <span class="scenario-name">Crecimiento</span>
                                                <span class="scenario-desc">Proyectar crecimiento de ingresos</span>
                                            </span>
                                        </label>
                                        <label class="scenario-option">
                                            <input type="radio" name="scenario-type" value="cost_reduction">
                                            <span class="scenario-option-content">
                                                <span class="scenario-icon">üí∞</span>
                                                <span class="scenario-name">Reduccion Costos</span>
                                                <span class="scenario-desc">Simular reduccion de gastos</span>
                                            </span>
                                        </label>
                                        <label class="scenario-option">
                                            <input type="radio" name="scenario-type" value="new_project">
                                            <span class="scenario-option-content">
                                                <span class="scenario-icon">üöÄ</span>
                                                <span class="scenario-name">Nuevo Proyecto</span>
                                                <span class="scenario-desc">Impacto de nuevo proyecto</span>
                                            </span>
                                        </label>
                                        <label class="scenario-option">
                                            <input type="radio" name="scenario-type" value="custom">
                                            <span class="scenario-option-content">
                                                <span class="scenario-icon">‚öôÔ∏è</span>
                                                <span class="scenario-name">Personalizado</span>
                                                <span class="scenario-desc">Definir parametros custom</span>
                                            </span>
                                        </label>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">Periodo de Proyeccion</label>
                                        <select id="sim-period" class="form-select">
                                            <option value="3">3 meses</option>
                                            <option value="6" selected>6 meses</option>
                                            <option value="12">12 meses</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Variacion (%)</label>
                                        <input type="number" id="sim-variation" class="form-input" value="10" min="-100" max="100">
                                    </div>
                                </div>

                                <div class="form-group" id="sim-project-group" style="display:none;">
                                    <label class="form-label">Proyecto</label>
                                    <select id="sim-project" class="form-select">
                                        <option value="">Seleccionar proyecto...</option>
                                    </select>
                                </div>

                                <div class="form-group" id="sim-custom-group" style="display:none;">
                                    <label class="form-label">Describe tu escenario</label>
                                    <textarea id="sim-custom" class="form-textarea" rows="3" placeholder="Ej: Que pasaria si aumentamos el precio un 15% y perdemos 10% de clientes?"></textarea>
                                </div>

                                <button class="btn btn-primary btn-lg btn-full" id="btn-simulate" onclick="App.runSimulation()">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polygon points="5 3 19 12 5 21 5 3"/>
                                    </svg>
                                    Ejecutar Simulacion
                                </button>
                            </div>
                        </div>

                        <!-- Simulation Results -->
                        <div class="simulator-results card" id="simulator-results" style="display:none;">
                            <div class="card-header">
                                <h3>Resultados de la Simulacion</h3>
                                <button class="btn btn-ghost btn-sm" onclick="App.compareScenarios()">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M16 3h5v5M8 3H3v5M3 16v5h5M21 16v5h-5"/>
                                    </svg>
                                    Comparar
                                </button>
                            </div>
                            <div class="card-body" id="simulation-output">
                                <!-- Results rendered here -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ============ SETTINGS VIEW ============ -->
                <section class="view" id="view-settings">
                    <div class="settings-grid">
                        <div class="settings-menu">
                            <a class="settings-menu-item active" data-settings="general">General</a>
                            <a class="settings-menu-item" data-settings="clients">Clientes</a>
                            <a class="settings-menu-item" data-settings="projects">Proyectos</a>
                            <a class="settings-menu-item" data-settings="team">Equipo</a>
                            <a class="settings-menu-item" data-settings="categories">Categorias</a>
                            <a class="settings-menu-item" data-settings="integrations">Integraciones</a>
                        </div>

                        <div class="settings-content">
                            <!-- General Settings -->
                            <div class="settings-panel active" id="settings-general">
                                <h3>Configuracion General</h3>
                                <div class="settings-section">
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-label">Actualizacion automatica</div>
                                            <div class="setting-desc">Sincronizar datos cada 30 segundos</div>
                                        </div>
                                        <label class="toggle">
                                            <input type="checkbox" id="setting-auto-sync" checked>
                                            <span class="toggle-slider"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Clients Settings -->
                            <div class="settings-panel" id="settings-clients">
                                <div class="settings-panel-header">
                                    <h3>Clientes</h3>
                                    <button class="btn btn-primary btn-sm" onclick="App.openModal('add-client')">+ Nuevo</button>
                                </div>
                                <div class="settings-table" id="clients-table-container">
                                    <div class="loading-placeholder">Cargando...</div>
                                </div>
                            </div>

                            <!-- Projects Settings -->
                            <div class="settings-panel" id="settings-projects">
                                <div class="settings-panel-header">
                                    <h3>Proyectos</h3>
                                    <button class="btn btn-primary btn-sm" onclick="App.openModal('add-project')">+ Nuevo</button>
                                </div>
                                <div class="settings-table" id="projects-table-container">
                                    <div class="loading-placeholder">Cargando...</div>
                                </div>
                            </div>

                            <!-- Team Settings -->
                            <div class="settings-panel" id="settings-team">
                                <div class="settings-panel-header">
                                    <h3>Equipo</h3>
                                    <button class="btn btn-primary btn-sm" onclick="App.openModal('add-member')">+ Nuevo</button>
                                </div>
                                <div class="settings-table" id="team-table-container">
                                    <div class="loading-placeholder">Cargando...</div>
                                </div>
                            </div>

                            <!-- Categories Settings -->
                            <div class="settings-panel" id="settings-categories">
                                <div class="settings-panel-header">
                                    <h3>Categorias</h3>
                                    <button class="btn btn-primary btn-sm" onclick="App.openModal('add-category')">+ Nueva</button>
                                </div>
                                <div class="settings-table" id="categories-table-container">
                                    <div class="loading-placeholder">Cargando...</div>
                                </div>
                            </div>

                            <!-- Integrations -->
                            <div class="settings-panel" id="settings-integrations">
                                <h3>Integraciones</h3>
                                <div class="integrations-grid">
                                    <div class="integration-card">
                                        <div class="integration-icon qonto">Q</div>
                                        <div class="integration-info">
                                            <div class="integration-name">Qonto</div>
                                            <div class="integration-status connected">Conectado</div>
                                        </div>
                                        <button class="btn btn-secondary btn-sm" onclick="App.syncQonto()">Sincronizar</button>
                                    </div>
                                    <div class="integration-card">
                                        <div class="integration-icon airtable">A</div>
                                        <div class="integration-info">
                                            <div class="integration-name">Airtable</div>
                                            <div class="integration-status connected">Conectado</div>
                                        </div>
                                        <button class="btn btn-secondary btn-sm" onclick="App.testAirtable()">Probar</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Modals -->
    <div class="modal-overlay" id="modal-overlay"></div>

    <!-- Assignment Modal (for % allocation) -->
    <div class="modal" id="modal-assignment">
        <div class="modal-header">
            <h3>Asignar Transaccion</h3>
            <button class="modal-close" onclick="App.closeModal('assignment')">&times;</button>
        </div>
        <div class="modal-body">
            <div class="tx-detail-card" id="modal-tx-detail">
                <!-- Transaction details -->
            </div>

            <!-- AI Suggestion -->
            <div class="ai-suggestion" id="ai-suggestion" style="display:none;">
                <div class="ai-suggestion-header">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2a4 4 0 014 4c0 1.1-.9 2-2 2h-4a2 2 0 01-2-2 4 4 0 014-4z"/>
                        <path d="M12 8v8M8 12h8"/>
                        <circle cx="12" cy="19" r="2"/>
                    </svg>
                    <span>Sugerencia IA</span>
                </div>
                <div class="ai-suggestion-content" id="ai-suggestion-content"></div>
                <button class="btn btn-secondary btn-sm" onclick="App.applySuggestion()">Aplicar sugerencia</button>
            </div>

            <!-- Allocations -->
            <div class="allocations-section">
                <div class="allocations-header">
                    <h4>Asignaciones</h4>
                    <button class="btn btn-ghost btn-sm" onclick="App.addAllocationRow()">+ Agregar</button>
                </div>
                <div class="allocations-list" id="allocations-list">
                    <!-- Allocation rows -->
                </div>
                <div class="allocations-total" id="allocations-total">
                    <span>Total asignado:</span>
                    <span class="total-pct">0%</span>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="App.closeModal('assignment')">Cancelar</button>
            <button class="btn btn-danger" onclick="App.excludeTransaction()">Excluir</button>
            <button class="btn btn-primary" onclick="App.saveAssignment()" id="btn-save-assignment">Guardar</button>
        </div>
    </div>

    <!-- Add Client Modal -->
    <div class="modal" id="modal-add-client">
        <div class="modal-header">
            <h3>Nuevo Cliente</h3>
            <button class="modal-close" onclick="App.closeModal('add-client')">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="form-label">Nombre *</label>
                <input type="text" id="new-client-name" class="form-input" placeholder="Nombre de la empresa">
            </div>
            <div class="form-group">
                <label class="form-label">Contacto</label>
                <input type="text" id="new-client-contact" class="form-input" placeholder="Persona de contacto">
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="new-client-email" class="form-input" placeholder="email@ejemplo.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Telefono</label>
                    <input type="text" id="new-client-phone" class="form-input" placeholder="+34...">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="App.closeModal('add-client')">Cancelar</button>
            <button class="btn btn-primary" onclick="App.saveClient()">Guardar</button>
        </div>
    </div>

    <!-- Add Project Modal -->
    <div class="modal" id="modal-add-project">
        <div class="modal-header">
            <h3>Nuevo Proyecto</h3>
            <button class="modal-close" onclick="App.closeModal('add-project')">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="form-label">Nombre *</label>
                <input type="text" id="new-project-name" class="form-input" placeholder="Nombre del proyecto">
            </div>
            <div class="form-group">
                <label class="form-label">Cliente</label>
                <select id="new-project-client" class="form-select">
                    <option value="">Sin cliente</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Estado</label>
                <select id="new-project-status" class="form-select">
                    <option value="Active">Activo</option>
                    <option value="Completed">Completado</option>
                    <option value="On Hold">En Pausa</option>
                </select>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="App.closeModal('add-project')">Cancelar</button>
            <button class="btn btn-primary" onclick="App.saveProject()">Guardar</button>
        </div>
    </div>

    <!-- Add Team Member Modal -->
    <div class="modal" id="modal-add-member">
        <div class="modal-header">
            <h3>Nuevo Miembro</h3>
            <button class="modal-close" onclick="App.closeModal('add-member')">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="form-label">Nombre *</label>
                <input type="text" id="new-member-name" class="form-input" placeholder="Nombre completo">
            </div>
            <div class="form-group">
                <label class="form-label">Rol</label>
                <input type="text" id="new-member-role" class="form-input" placeholder="Ej: Desarrollador">
            </div>
            <div class="form-group">
                <label class="form-label">Salario Mensual (EUR)</label>
                <input type="number" id="new-member-salary" class="form-input" placeholder="0.00" step="0.01">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="App.closeModal('add-member')">Cancelar</button>
            <button class="btn btn-primary" onclick="App.saveTeamMember()">Guardar</button>
        </div>
    </div>

    <!-- Add Category Modal -->
    <div class="modal" id="modal-add-category">
        <div class="modal-header">
            <h3>Nueva Categoria</h3>
            <button class="modal-close" onclick="App.closeModal('add-category')">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="form-label">Nombre *</label>
                <input type="text" id="new-category-name" class="form-input" placeholder="Nombre de la categoria">
            </div>
            <div class="form-group">
                <label class="form-label">Tipo</label>
                <select id="new-category-type" class="form-select">
                    <option value="Expense">Gasto</option>
                    <option value="Income">Ingreso</option>
                </select>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-ghost" onclick="App.closeModal('add-category')">Cancelar</button>
            <button class="btn btn-primary" onclick="App.saveCategory()">Guardar</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Scripts -->
    <script src="/static/js/executive-app.js"></script>
</body>
</html>
